{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Select statement to C#? Respond only in code: SELECT book_id, title, author, price FROM books WHERE genre = 'Science Fiction' AND stock > 0;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT book_id, title, author, price FROM books WHERE genre = @genre AND stock > @stock\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@genre\", \"Science Fiction\");\n        command.Parameters.AddWithValue(\"@stock\", 0);\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int bookId = (int)reader[\"book_id\"];\n                string title = reader[\"title\"].ToString();\n                string author = reader[\"author\"].ToString();\n                decimal price = (decimal)reader[\"price\"];\n                // Process book data\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Insert statement to C#. Respond only in code: INSERT INTO orders (customer_id, order_date, total_amount) VALUES (1001, CURRENT, 59.99);", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"INSERT INTO orders (customer_id, order_date, total_amount) VALUES\n        (@customerId, @orderDate, @totalAmount)\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@customerId\", 1001);\n        command.Parameters.AddWithValue(\"@orderDate\", DateTime.Now);\n        command.Parameters.AddWithValue(\"@totalAmount\", 59.99m);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Update statement to C#? Respond only in code: UPDATE customers SET loyalty_points = loyalty_points + 10 WHERE customer_id = 1001;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"UPDATE customers SET loyalty_points = loyalty_points + @points WHERE customer_id = @customerId\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@points\", 10);\n        command.Parameters.AddWithValue(\"@customerId\", 1001);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Delete statement to C#. Respond only in code: DELETE FROM shopping_cart WHERE customer_id = 1001 AND add_date < CURRENT - INTERVAL '30' DAY;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"DELETE FROM shopping_cart WHERE customer_id = @customerId AND add_date < @expirationDate\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@customerId\", 1001);\n        command.Parameters.AddWithValue(\"@expirationDate\", DateTime.Now.AddDays(-30));\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you handle this 4GL transaction in C#? Respond only in code: BEGIN WORK; UPDATE books SET stock = stock - 1 WHERE book_id = 5001; INSERT INTO order_items (order_id, book_id, quantity, price) VALUES (10001, 5001, 1, 24.99); COMMIT WORK;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlTransaction transaction = connection.BeginTransaction())\n    {\n        try\n        {\n            using (SqlCommand command = new SqlCommand(\n                \"UPDATE books SET stock = stock - 1 WHERE book_id = @bookId\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@bookId\", 5001);\n                command.ExecuteNonQuery();\n            }\n\n            using (SqlCommand command = new SqlCommand(\n                \"INSERT INTO order_items (order_id, book_id, quantity, price) VALUES\n                (@orderId, @bookId, @quantity, @price)\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@orderId\", 10001);\n                command.Parameters.AddWithValue(\"@bookId\", 5001);\n                command.Parameters.AddWithValue(\"@quantity\", 1);\n                command.Parameters.AddWithValue(\"@price\", 24.99m);\n                command.ExecuteNonQuery();\n            }\n\n            transaction.Commit();\n        }\n        catch\n        {\n            transaction.Rollback();\n            throw;\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL error handling to C#. Respond only in code: WHENEVER ERROR RAISE BEGIN LET error_log = 'Error in bookstore system: ' || SQLERRM; INSERT INTO error_logs (log_message, log_date) VALUES (error_log, CURRENT); RAISE EXCEPTION error_log; END", "assistant": "try\n{\n    // Bookstore system operations\n}\ncatch (SqlException ex)\n{\n    string errorLog = \"Error in bookstore system: \" + ex.Message;\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        using (SqlCommand command = new SqlCommand(\n            \"INSERT INTO error_logs (log_message, log_date) VALUES (@logMessage, @logDate)\",\n            connection))\n        {\n            command.Parameters.AddWithValue(\"@logMessage\", errorLog);\n            command.Parameters.AddWithValue(\"@logDate\", DateTime.Now);\n            command.ExecuteNonQuery();\n        }\n    }\n    throw new Exception(errorLog);\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL FOR loop to C#? Respond only in code: FOR book IN SELECT book_id, title, author FROM books WHERE publisher = 'Penguin Books' DISPLAY book.book_id, book.title, book.author; END FOR;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT book_id, title, author FROM books WHERE publisher = @publisher\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@publisher\", \"Penguin Books\");\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int bookId = (int)reader[\"book_id\"];\n                string title = reader[\"title\"].ToString();\n                string author = reader[\"author\"].ToString();\n                Console.WriteLine($\"{bookId} {title} {author}\");\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL WHILE loop to C#. Respond only in code: LET discount_percent = 5 WHILE discount_percent <= 25 DISPLAY 'Discount:', discount_percent, '%' LET discount_percent = discount_percent + 5 END WHILE;", "assistant": "int discountPercent = 5;\nwhile (discountPercent <= 25)\n{\n    Console.WriteLine($\"Discount: {discountPercent}%\");\n    discountPercent += 5;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL conditional statement to C#? Respond only in code: IF order_total > 100 THEN LET shipping_cost = 0 ELIF order_total > 50 THEN LET shipping_cost = 5 ELSE LET shipping_cost = 10 END IF;", "assistant": "decimal shippingCost;\nif (orderTotal > 100)\n{\n    shippingCost = 0;\n}\nelse if (orderTotal > 50)\n{\n    shippingCost = 5;\n}\nelse\n{\n    shippingCost = 10;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL string concatenation to C#. Respond only in code: LET book_details = title || ' by ' || author || ' (' || TO_CHAR(publication_date, '%Y') || ')';", "assistant": "string bookDetails = title + \" by \" + author + \" (\" + publicationDate.ToString(\"yyyy\") + \")\";\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL function call to C#? Respond only in code: FUNCTION calculate_discount(p_order_total DECIMAL(10,2), p_is_member CHAR(1)) RETURNS DECIMAL(10,2) IF p_is_member = 'Y' THEN RETURN p_order_total * 0.1 ELIF p_order_total > 100 THEN RETURN p_order_total * 0.05 ELSE RETURN 0 END IF END FUNCTION\nLET discount_amount = calculate_discount(150.00, 'Y');", "assistant": "public decimal CalculateDiscount(decimal orderTotal, bool isMember)\n{\n    if (isMember)\n    {\n        return orderTotal * 0.1m;\n    }\n    else if (orderTotal > 100)\n    {\n        return orderTotal * 0.05m;\n    }\n    else\n    {\n        return 0;\n    }\n}\n\n// Usage\ndecimal discountAmount = CalculateDiscount(150.00m, true);\n"}
