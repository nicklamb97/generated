{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Select statement to C#? Respond only in code: SELECT book_id, title, author, price FROM books WHERE genre = 'Mystery' AND stock > 0;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT book_id, title, author, price FROM books WHERE genre = @genre AND stock > @minStock\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@genre\", \"Mystery\");\n        command.Parameters.AddWithValue(\"@minStock\", 0);\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int bookId = (int)reader[\"book_id\"];\n                string title = reader[\"title\"].ToString();\n                string author = reader[\"author\"].ToString();\n                decimal price = (decimal)reader[\"price\"];\n                // Process book data\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Insert statement to C#. Respond only in code: INSERT INTO customers (first_name, last_name, email, loyalty_points) VALUES ('Jane', 'Doe', 'jane.doe@email.com', 100);", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"INSERT INTO customers (first_name, last_name, email, loyalty_points)\n        VALUES (@firstName, @lastName, @email, @loyaltyPoints)\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@firstName\", \"Jane\");\n        command.Parameters.AddWithValue(\"@lastName\", \"Doe\");\n        command.Parameters.AddWithValue(\"@email\", \"jane.doe@email.com\");\n        command.Parameters.AddWithValue(\"@loyaltyPoints\", 100);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Update statement to C#? Respond only in code: UPDATE books SET stock = stock - 1, last_sold_date = CURRENT WHERE book_id = 1234;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"UPDATE books SET stock = stock - 1, last_sold_date = @currentDate WHERE book_id = @bookId\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@currentDate\", DateTime.Now);\n        command.Parameters.AddWithValue(\"@bookId\", 1234);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Delete statement to C#. Respond only in code: DELETE FROM promotions WHERE end_date < CURRENT AND is_active = 'N';", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"DELETE FROM promotions WHERE end_date < @currentDate AND is_active = @isActive\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@currentDate\", DateTime.Now);\n        command.Parameters.AddWithValue(\"@isActive\", \"N\");\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you handle this 4GL transaction in C#? Respond only in code: BEGIN WORK; UPDATE books SET stock = stock - 1 WHERE book_id = 101; INSERT INTO sales (book_id, customer_id, sale_date, price) VALUES (101, 202, CURRENT, 19.99); COMMIT WORK;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlTransaction transaction = connection.BeginTransaction())\n    {\n        try\n        {\n            using (SqlCommand command = new SqlCommand(\n                \"UPDATE books SET stock = stock - 1 WHERE book_id = @bookId\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@bookId\", 101);\n                command.ExecuteNonQuery();\n            }\n\n            using (SqlCommand command = new SqlCommand(\n                \"INSERT INTO sales (book_id, customer_id, sale_date, price)\n                VALUES (@bookId, @customerId, @saleDate, @price)\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@bookId\", 101);\n                command.Parameters.AddWithValue(\"@customerId\", 202);\n                command.Parameters.AddWithValue(\"@saleDate\", DateTime.Now);\n                command.Parameters.AddWithValue(\"@price\", 19.99m);\n                command.ExecuteNonQuery();\n            }\n\n            transaction.Commit();\n        }\n        catch\n        {\n            transaction.Rollback();\n            throw;\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL error handling to C#. Respond only in code: WHENEVER ERROR RAISE BEGIN LET error_log = 'Error in bookstore system: ' || SQLERRM; INSERT INTO error_logs (log_message, log_date) VALUES (error_log, CURRENT); RAISE EXCEPTION error_log; END", "assistant": "try\n{\n    // Bookstore system operations\n}\ncatch (SqlException ex)\n{\n    string errorLog = \"Error in bookstore system: \" + ex.Message;\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        using (SqlCommand command = new SqlCommand(\n            \"INSERT INTO error_logs (log_message, log_date) VALUES (@logMessage, @logDate)\",\n            connection))\n        {\n            command.Parameters.AddWithValue(\"@logMessage\", errorLog);\n            command.Parameters.AddWithValue(\"@logDate\", DateTime.Now);\n            command.ExecuteNonQuery();\n        }\n    }\n    throw new Exception(errorLog);\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL FOR loop to C#? Respond only in code: FOR book IN SELECT book_id, title, author FROM books WHERE publisher = 'Penguin Books' DISPLAY book.book_id, book.title, book.author; END FOR;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT book_id, title, author FROM books WHERE publisher = @publisher\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@publisher\", \"Penguin Books\");\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int bookId = (int)reader[\"book_id\"];\n                string title = reader[\"title\"].ToString();\n                string author = reader[\"author\"].ToString();\n                Console.WriteLine($\"{bookId} {title} {author}\");\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL WHILE loop to C#. Respond only in code: LET discount_percentage = 5 WHILE discount_percentage <= 25 DISPLAY 'Discount:', discount_percentage, '%' LET discount_percentage = discount_percentage + 5 END WHILE;", "assistant": "int discountPercentage = 5;\nwhile (discountPercentage <= 25)\n{\n    Console.WriteLine($\"Discount: {discountPercentage}%\");\n    discountPercentage += 5;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL conditional statement to C#? Respond only in code: IF book_price > 50 THEN LET shipping_cost = 0 ELIF book_price > 25 THEN LET shipping_cost = 5 ELSE LET shipping_cost = 10 END IF;", "assistant": "decimal shippingCost;\nif (bookPrice > 50)\n{\n    shippingCost = 0;\n}\nelse if (bookPrice > 25)\n{\n    shippingCost = 5;\n}\nelse\n{\n    shippingCost = 10;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL string concatenation to C#. Respond only in code: LET book_details = title || ' by ' || author || ' (' || TO_CHAR(publication_date, '%Y') || ')';", "assistant": "string bookDetails = title + \" by \" + author + \" (\" + publicationDate.ToString(\"yyyy\") + \")\";\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL function call to C#? Respond only in code: FUNCTION calculate_order_total(p_book_price DECIMAL(10,2), p_quantity INTEGER, p_discount_percentage INTEGER) RETURNS DECIMAL(10,2) LET subtotal = p_book_price * p_quantity LET discount_amount = subtotal * (p_discount_percentage / 100.0) RETURN subtotal - discount_amount END FUNCTION\nLET total = calculate_order_total(29.99, 2, 10);", "assistant": "public decimal CalculateOrderTotal(decimal bookPrice, int quantity, int discountPercentage)\n{\n    decimal subtotal = bookPrice * quantity;\n    decimal discountAmount = subtotal * (discountPercentage / 100.0m);\n    return subtotal - discountAmount;\n}\n\n// Usage\ndecimal total = CalculateOrderTotal(29.99m, 2, 10);\n"}
