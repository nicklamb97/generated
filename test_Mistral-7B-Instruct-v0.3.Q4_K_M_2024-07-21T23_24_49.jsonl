{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Select statement to C#? Respond only in code: SELECT runner_id, full_name, age_category FROM runners WHERE best_time < '03:30:00';", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT runner_id, full_name, age_category FROM runners WHERE best_time < @bestTime\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@bestTime\", TimeSpan.Parse(\"03:30:00\"));\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int runnerId = (int)reader[\"runner_id\"];\n                string fullName = reader[\"full_name\"].ToString();\n                string ageCategory = reader[\"age_category\"].ToString();\n                // Process runner data\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Insert statement to C#. Respond only in code: INSERT INTO race_events (event_name, event_date, distance_km, max_participants) VALUES ('City Marathon', '2024-09-15', 42.2, 5000);", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"INSERT INTO race_events (event_name, event_date, distance_km, max_participants)\n        VALUES (@eventName, @eventDate, @distanceKm, @maxParticipants)\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@eventName\", \"City Marathon\");\n        command.Parameters.AddWithValue(\"@eventDate\", new DateTime(2024, 9, 15));\n        command.Parameters.AddWithValue(\"@distanceKm\", 42.2);\n        command.Parameters.AddWithValue(\"@maxParticipants\", 5000);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Update statement to C#? Respond only in code: UPDATE runners SET personal_best = '02:58:30' WHERE runner_id = 1234 AND personal_best > '02:58:30';", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"UPDATE runners SET personal_best = @newBestTime\n        WHERE runner_id = @runnerId AND personal_best > @newBestTime\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@newBestTime\", TimeSpan.Parse(\"02:58:30\"));\n        command.Parameters.AddWithValue(\"@runnerId\", 1234);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Delete statement to C#. Respond only in code: DELETE FROM race_registrations WHERE event_id = 5 AND payment_status = 'Unpaid' AND registration_date < CURRENT - INTERVAL 7 DAY;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"DELETE FROM race_registrations WHERE event_id = @eventId\n        AND payment_status = @paymentStatus AND registration_date < @cutoffDate\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@eventId\", 5);\n        command.Parameters.AddWithValue(\"@paymentStatus\", \"Unpaid\");\n        command.Parameters.AddWithValue(\"@cutoffDate\", DateTime.Now.AddDays(-7));\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you handle this 4GL transaction in C#? Respond only in code: BEGIN WORK; UPDATE race_events SET current_participants = current_participants + 1 WHERE event_id = 10; INSERT INTO race_registrations (runner_id, event_id, registration_date) VALUES (2345, 10, CURRENT); COMMIT WORK;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlTransaction transaction = connection.BeginTransaction())\n    {\n        try\n        {\n            using (SqlCommand command = new SqlCommand(\n                \"UPDATE race_events SET current_participants = current_participants + 1\n                WHERE event_id = @eventId\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@eventId\", 10);\n                command.ExecuteNonQuery();\n            }\n\n            using (SqlCommand command = new SqlCommand(\n                \"INSERT INTO race_registrations (runner_id, event_id, registration_date)\n                VALUES (@runnerId, @eventId, @registrationDate)\",\n                connection, transaction))\n            {\n                command.Parameters.AddWithValue(\"@runnerId\", 2345);\n                command.Parameters.AddWithValue(\"@eventId\", 10);\n                command.Parameters.AddWithValue(\"@registrationDate\", DateTime.Now);\n                command.ExecuteNonQuery();\n            }\n\n            transaction.Commit();\n        }\n        catch\n        {\n            transaction.Rollback();\n            throw;\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL error handling to C#. Respond only in code: WHENEVER ERROR RAISE BEGIN LET error_log = 'Error in marathon registration system: ' || SQLERRM; INSERT INTO system_logs (log_message, log_date) VALUES (error_log, CURRENT); RAISE EXCEPTION error_log; END", "assistant": "try\n{\n    // Marathon registration system operations\n}\ncatch (SqlException ex)\n{\n    string errorLog = \"Error in marathon registration system: \" + ex.Message;\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        using (SqlCommand command = new SqlCommand(\n            \"INSERT INTO system_logs (log_message, log_date) VALUES (@logMessage, @logDate)\",\n            connection))\n        {\n            command.Parameters.AddWithValue(\"@logMessage\", errorLog);\n            command.Parameters.AddWithValue(\"@logDate\", DateTime.Now);\n            command.ExecuteNonQuery();\n        }\n    }\n    throw new Exception(errorLog);\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL FOR loop to C#? Respond only in code: FOR result IN SELECT runner_id, finish_time FROM race_results WHERE event_id = 10 ORDER BY finish_time DISPLAY result.runner_id, result.finish_time; END FOR;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT runner_id, finish_time FROM race_results WHERE event_id = @eventId ORDER BY finish_time\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@eventId\", 10);\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int runnerId = (int)reader[\"runner_id\"];\n                TimeSpan finishTime = (TimeSpan)reader[\"finish_time\"];\n                Console.WriteLine($\"Runner ID: {runnerId}, Finish Time: {finishTime}\");\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL WHILE loop to C#. Respond only in code: LET remaining_slots = 100 WHILE remaining_slots > 0 DISPLAY 'Slots available:', remaining_slots LET remaining_slots = remaining_slots - 1 END WHILE;", "assistant": "int remainingSlots = 100;\nwhile (remainingSlots > 0)\n{\n    Console.WriteLine($\"Slots available: {remainingSlots}\");\n    remainingSlots--;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL conditional statement to C#? Respond only in code: IF finish_time < '03:00:00' THEN LET award_category = 'Elite' ELIF finish_time < '04:00:00' THEN LET award_category = 'Advanced' ELSE LET award_category = 'Finisher' END IF;", "assistant": "string awardCategory;\nTimeSpan finishTime = TimeSpan.Parse(\"03:30:00\"); // Example finish time\n\nif (finishTime < TimeSpan.Parse(\"03:00:00\"))\n{\n    awardCategory = \"Elite\";\n}\nelse if (finishTime < TimeSpan.Parse(\"04:00:00\"))\n{\n    awardCategory = \"Advanced\";\n}\nelse\n{\n    awardCategory = \"Finisher\";\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL string concatenation to C#. Respond only in code: LET result_summary = runner_name || ' finished in ' || TO_CHAR(finish_time, '%H:%M:%S') || ' (Place: ' || TO_CHAR(place) || ')';", "assistant": "string resultSummary = runnerName + \" finished in \" +\nfinishTime.ToString(@\"hh\\:mm\\:ss\") + \" (Place: \" + place.ToString() + \")\";\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL function call to C#? Respond only in code: FUNCTION calculate_age_category(p_birth_date DATE) RETURNS VARCHAR(20) LET age = YEAR(CURRENT) - YEAR(p_birth_date) IF age < 30 THEN RETURN 'Under 30' ELIF age < 40 THEN RETURN '30-39' ELIF age < 50 THEN RETURN '40-49' ELSE RETURN '50+' END IF END FUNCTION\nLET runner_category = calculate_age_category('1985-05-15');", "assistant": "public string CalculateAgeCategory(DateTime birthDate)\n{\n    int age = DateTime.Now.Year - birthDate.Year;\n    if (birthDate > DateTime.Now.AddYears(-age)) age--;\n\n    if (age < 30)\n        return \"Under 30\";\n    else if (age < 40)\n        return \"30-39\";\n    else if (age < 50)\n        return \"40-49\";\n    else\n        return \"50+\";\n}\n\n// Usage\nstring runnerCategory = CalculateAgeCategory(new DateTime(1985, 5, 15));\n"}
