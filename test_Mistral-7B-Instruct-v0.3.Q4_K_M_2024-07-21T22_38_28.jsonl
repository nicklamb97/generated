{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Select statement to C#. Respond only in code: SELECT employee_id, last_name, salary FROM employees WHERE department_id = 10 AND hire_date > '2023-01-01';", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT employee_id, last_name, salary FROM employees\n        WHERE department_id = @deptId AND hire_date > @hireDate\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@deptId\", 10);\n        command.Parameters.AddWithValue(\"@hireDate\", new DateTime(2023, 1, 1));\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int employeeId = (int)reader[\"employee_id\"];\n                string lastName = reader[\"last_name\"].ToString();\n                decimal salary = (decimal)reader[\"salary\"];\n                // Process data\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Insert statement to C#? Respond only in code: INSERT INTO departments (department_name, manager_id, location_id) VALUES ('Research', 103, 1700);", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"INSERT INTO departments (department_name, manager_id, location_id)\n        VALUES (@deptName, @managerId, @locationId)\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@deptName\", \"Research\");\n        command.Parameters.AddWithValue(\"@managerId\", 103);\n        command.Parameters.AddWithValue(\"@locationId\", 1700);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL Update statement to C#. Respond only in code: UPDATE projects SET status = 'Completed', end_date = CURRENT WHERE project_id = 501;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"UPDATE projects SET status = @status, end_date = @endDate WHERE project_id = @projectId\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@status\", \"Completed\");\n        command.Parameters.AddWithValue(\"@endDate\", DateTime.Now);\n        command.Parameters.AddWithValue(\"@projectId\", 501);\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL Delete statement to C#? Respond only in code: DELETE FROM temp_logs WHERE log_date < ADD_MONTHS(CURRENT, -6);", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"DELETE FROM temp_logs WHERE log_date < @cutoffDate\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@cutoffDate\", DateTime.Now.AddMonths(-6));\n        command.ExecuteNonQuery();\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL transaction to C#. Respond only in code: BEGIN WORK; INSERT INTO orders (customer_id, order_date, total_amount) VALUES (1001, CURRENT, 1500.00); UPDATE inventory SET stock_quantity = stock_quantity - 5 WHERE product_id = 101; COMMIT WORK;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlTransaction transaction = connection.BeginTransaction())\n    {\n        try\n        {\n            using (SqlCommand insertCommand = new SqlCommand(\n                \"INSERT INTO orders (customer_id, order_date, total_amount)\n                VALUES (@customerId, @orderDate, @totalAmount)\",\n                connection, transaction))\n            {\n                insertCommand.Parameters.AddWithValue(\"@customerId\", 1001);\n                insertCommand.Parameters.AddWithValue(\"@orderDate\", DateTime.Now);\n                insertCommand.Parameters.AddWithValue(\"@totalAmount\", 1500.00m);\n                insertCommand.ExecuteNonQuery();\n            }\n\n            using (SqlCommand updateCommand = new SqlCommand(\n                \"UPDATE inventory SET stock_quantity = stock_quantity - @quantity WHERE product_id = @productId\",\n                connection, transaction))\n            {\n                updateCommand.Parameters.AddWithValue(\"@quantity\", 5);\n                updateCommand.Parameters.AddWithValue(\"@productId\", 101);\n                updateCommand.ExecuteNonQuery();\n            }\n\n            transaction.Commit();\n        }\n        catch\n        {\n            transaction.Rollback();\n            throw;\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you handle this 4GL error management in C#? Respond only in code: WHENEVER ERROR BEGIN LET err_code = SQLCA.SQLCODE; LET err_msg = SQLCA.SQLERRM; CALL log_error(err_code, err_msg); RAISE EXCEPTION err_msg; END", "assistant": "try\n{\n    // Database operations\n}\ncatch (SqlException ex)\n{\n    int errorCode = ex.Number;\n    string errorMessage = ex.Message;\n    LogError(errorCode, errorMessage);\n    throw new Exception(errorMessage);\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL FOR loop to C#. Respond only in code: FOR cust IN SELECT customer_id, company_name, credit_limit FROM customers WHERE country = 'USA' IF cust.credit_limit > 100000 THEN DISPLAY cust.company_name, ' is a high-value customer'; END IF; END FOR;", "assistant": "using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    using (SqlCommand command = new SqlCommand(\n        \"SELECT customer_id, company_name, credit_limit FROM customers WHERE country = @country\",\n        connection))\n    {\n        command.Parameters.AddWithValue(\"@country\", \"USA\");\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                int customerId = (int)reader[\"customer_id\"];\n                string companyName = reader[\"company_name\"].ToString();\n                decimal creditLimit = (decimal)reader[\"credit_limit\"];\n\n                if (creditLimit > 100000)\n                {\n                    Console.WriteLine($\"{companyName} is a high-value customer\");\n                }\n            }\n        }\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL WHILE loop to C#? Respond only in code: LET retry_count = 0; WHILE connection_status != 'Connected' AND retry_count < 5 CALL attempt_connection(); LET retry_count = retry_count + 1; IF retry_count = 5 THEN DISPLAY 'Max retries reached'; END IF; END WHILE;", "assistant": "int retryCount = 0;\nstring connectionStatus = \"\";\n\nwhile (connectionStatus != \"Connected\" && retryCount < 5)\n{\n    AttemptConnection();\n    retryCount++;\n\n    if (retryCount == 5)\n    {\n        Console.WriteLine(\"Max retries reached\");\n    }\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL conditional statement to C#. Respond only in code: IF order_total > 1000 THEN IF customer_type = 'Premium' THEN LET discount = 0.15; ELSE LET discount = 0.10; END IF; ELSE LET discount = 0.05; END IF;", "assistant": "decimal discount;\n\nif (orderTotal > 1000)\n{\n    if (customerType == \"Premium\")\n    {\n        discount = 0.15m;\n    }\n    else\n    {\n        discount = 0.10m;\n    }\n}\nelse\n{\n    discount = 0.05m;\n}\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "How would you convert this 4GL string manipulation to C#? Respond only in code: LET full_address = NVL(street_address, '') || ', ' || city || ', ' || state || ' ' || zip_code;", "assistant": "string fullAddress = string.Format(\"{0}, {1}, {2} {3}\",\n    string.IsNullOrEmpty(streetAddress) ? \"\" : streetAddress,\n    city,\n    state,\n    zipCode);\n"}
{"system": "You are an AI language model developed by IBM Research. You are a cautious assistant. You carefully follow instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior.", "user": "Convert this 4GL function definition and call to C#. Respond only in code: FUNCTION calculate_age(birth_date DATE) RETURNS INTEGER RETURN (CURRENT - birth_date) UNITS YEAR; END FUNCTION\nLET employee_age = calculate_age('1990-05-15');", "assistant": "public int CalculateAge(DateTime birthDate)\n{\n    return (int)((DateTime.Now - birthDate).TotalDays / 365.25);\n}\n\n// Usage\nint employeeAge = CalculateAge(new DateTime(1990, 5, 15));\n"}
